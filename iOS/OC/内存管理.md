在引用计数环境中用于内存管理的基本模型由`NSobject协议中定义的方法和标准方法命名约定的组合`提供，NSObject类还定义了一个方法dealloc，该方法在对象被取消分配时自动调用
#本文介绍了在cocoa程序中正确管理内存需要知道的所有基本规则，并提供了一些正确的使用示例
# 基本内存管理规则
内存管理模型基于对象的所有权（是否持有），任何对象都可以有一个或者多个所有者，只要一个实例存在至少一个持有者，那么他就不会被自动销毁，如果没有，则在运行时系统会自动销毁它，为了确保清楚您何时拥有对象，何时不拥有对象，cocoa设置了以下策略
- 你拥有你所创建的任何对象
	使用"alloc""new""copy""mutableCopy"开头的方法来创建对象
- 使用retain来获得对象的所有权
	接收的对象通常保证在接收的方法中保持有效，该方法也可以安全地将对象返回到其调用者，两种情况下使用retain「在实现setter/getter方法或者init方法的时候，获得存储为属性的对象的所有权」，「防止对象作为其他操作的副作用而失效」
	[[避免导致您正在使用的对象的取消分配]]
- 当你不需要时，你必须放弃该实例对象的所有权
	通过向对象发送release消息或者autorelease消息来放弃持有， 在cocoa框架下，放弃对象的所有权通常被称为“释放”对象
- 无法释放一个你未持有的对象的所有权
	以上规则的推论
## 简单例子
```objective-c
{

    Person *aPerson = [[Person alloc] init];

    // ...

    NSString *name = aPerson.fullName;

    // ...

    [aPerson release];

}
```

person对象是由alloc创建的，当他不在被需要的时候，要发送一个释放消息
Person对象的name没有用任何拥有的方法检索到，所以它不发送释放消息。注意，尽管如此，这个例子使用release而不是autorelease。
## 使用autorelease发送延迟释放
当需要发送延迟`release`消息时，可以使用`autorelease`——通常是在从方法返回对象时。例如，您可以像这样实现`fullName`方法：
```objective-c
- (NSString *)fullName {
- 
    NSString *string = [[[NSString alloc] initWithFormat:@"%@ %@", self.firstName, self.lastName] autorelease];
    return string;

}
```

